<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/layout}">
<head>
<title>Add or Edit Category</title>
</head>
<body>
	<div layout:fragment="content" class="card shadow p-4">
		<h4
			th:text="${category.categoryId != null ? 'Chỉnh sửa Category' : 'Thêm Category'}"></h4>

		<form th:action="@{/admin/categories/save}" th:object="${category}"
			method="post" enctype="multipart/form-data">

			<input type="hidden" th:field="*{categoryId}" />

			<!-- Category Name -->
			<div class="mb-3">
				<label class="form-label">Tên Category</label> <input type="text"
					th:field="*{categoryName}" class="form-control" required />
			</div>

			<!-- Upload Icon -->
			<div class="mb-3">
				<label class="form-label">Ảnh (Icon)</label> <input type="file"
					name="file" class="form-control" accept="image/*" />
				<div th:if="${category.icon}">
					<p class="mt-2">Ảnh hiện tại:</p>
					<img th:src="@{'/images/' + ${category.icon}}"
						class="img-thumbnail" style="max-width: 150px;" />
				</div>
			</div>

			<!-- Buttons -->
			<button type="submit" class="btn btn-success">
				<i class="fa-solid fa-floppy-disk"></i> Lưu
			</button>
			<a th:href="@{/admin/categories}" class="btn btn-secondary">Quay
				lại</a>
		</form>
	</div>
</body>
</html>
